var Fantasma;(()=>{"use strict";var t={160:(t,e,i)=>{const{Resolver:s}=i(934),{Path:n}=i(890),o=i(796);class r{constructor(t,e){e={start:0,easing:"linear",unit:null,scale:1,...e},this.animation=t,this.unit=e.unit,this.easing=o[e.easing],this.scale=e.scale,this.realscale=this.animation.scale*this.scale,this.start=e.start*this.realscale,this.obj=e.obj,this.prop=Array.isArray(e.prop)?e.prop:[e.prop],e.path=Array.isArray(e.path)?e.path:[e.path],this.parts=e.path,this.path=new n(0,this.realscale,...this.parts),this.totalTime=this.start+this.path.totalTime}init(){const t=this.animation.calcT(this.start),e=this.animation.calcT(this.totalTime);this.startT=t[1],this.endT=e[1],this.deltaT=this.endT-this.startT}calcT(t){return t=(t-this.startT)/this.deltaT,t=Math.min(1,Math.max(0,t)),this.easing(t)}}class a{constructor(t,e){this.abs=t,this.obj=e,this.res=new s(this.obj,...this.abs.prop),this.path=new n(this.res.initial,this.abs.realscale,...this.abs.parts)}set(t){t=this.abs.calcT(t);let e=this.path.getPosition(t);this.abs.unit&&(e=`${e}${this.abs.unit}`),this.res.val=e}}class l{constructor(t,e){const i=e.parent?e.parent.conf:{};this.conf={parent:null,before:null,after:null,beforeSkip:null,afterSkip:null,beforePause:null,afterPause:null,afterLoop:null,eachFrame:null,loop:0,reverse:!1,bounce:!1,els:{},...i,...e},this.parent=this.conf.parent,this.before=this.parent?null:this.conf.before,this.after=this.parent?null:this.conf.after,this.beforeSkip=this.parent?null:this.conf.beforeSkip,this.afterSkip=this.parent?null:this.conf.afterSkip,this.beforePause=this.parent?null:this.conf.beforePause,this.afterPause=this.parent?null:this.conf.afterPause,this.afterLoop=this.parent?null:this.conf.afterLoop,this.eachFrame=this.parent?null:this.conf.eachFrame,this.animation=t,this.loop=this.conf.loop,this.reverse=this.conf.reverse,this.bounce=this.conf.bounce,this.loops=0,this.rt=0,this.t=0,this.paused=!1,this.elapsed=null,this.lastf=null,this.els=this.conf.els,this.strips=this.animation.strips.map((t=>new a(t,this.els[t.obj]))),this.subplayers=[]}get bounceverse(){return!!this.bounce&&!!(this.loops%2)}get realverse(){return this.bounceverse!=this.reverse}get beginT(){return this.realverse?1:0}get endT(){return this.realverse?0:1}get beginMs(){return this.realverse?this.animation.totalTime:0}get endMs(){return this.realverse?0:this.animation.totalTime}get direction(){return this.realverse?-1:1}get firstLoop(){return 0==this.loops}get ended(){return this.realverse?this.rt<=0:this.rt>=1}set(t){for(let e=0;e<this.subplayers.length;e++)this.subplayers[e].set(t);for(let e=0;e<this.strips.length;e++)this.strips[e].set(t)}skip(t){this.beforeSkip&&this.beforeSkip(this),t=Math.min(1,Math.max(0,t)),this.elapsed=this.animation.totalTime*t,this.rt=t,this.t=this.animation.easing(t),this.lastf=Date.now(),this.set(this.t),this.pause(),this.afterSkip&&this.afterSkip(this)}frame(){if(this.paused)return;const t=Date.now(),e=t-this.lastf;this.elapsed+=e*this.direction,[this.rt,this.t]=this.animation.calcT(this.elapsed),this.set(this.t),this.lastf=t,this.eachFrame&&this.eachFrame(this),this.ended?(this.afterLoop&&this.afterLoop(this),this.loop<0||this.loops<this.loop?(this.loops++,this.play()):(this.after&&this.after(),this.loops=0,this.elapsed=null,this.lastf=null)):window.requestAnimationFrame((()=>this.frame()))}pause(){this.lastf&&(this.paused=Date.now(),this.beforePause&&this.beforePause())}play(){this.paused&&(this.lastf+=Date.now()-this.paused,this.paused=!1,this.afterPause&&this.afterPause()),(null===this.elapsed||this.ended)&&(this.elapsed=this.beginMs,this.firstLoop&&this.before&&this.before(),this.lastf=Date.now()),window.requestAnimationFrame((()=>this.frame()))}sub(t){const e=new l(this.animation,{...t,parent:this});return this.subplayers.push(e),e}}t.exports={AbstractStrip:r,RealStrip:a,Animation:class{constructor(t){t={easing:"linear",strips:[],scale:1,...t},this.easing=o[t.easing],this.scale=t.scale,this.totalTime=0,this.strips=t.strips.map((t=>(t=new r(this,t),this.totalTime=Math.max(this.totalTime,t.totalTime),t)));for(let t=0;t<this.strips.length;t++)this.strips[t].init()}calcT(t){const e=Math.min(1,Math.max(0,t/this.totalTime));return[e,this.easing(e)]}player(t={}){return new l(this,t)}},Playback:l}},796:t=>{const e=(t,e)=>1-t(1-e),i={linear:t=>t,easeInCubic:t=>Math.pow(t,3),easeOutCubic:t=>e(i.easeInCubic,t),easeInQuad:t=>t*t,easeOutQuad:t=>e(i.easeInQuad,t)};t.exports=i},890:t=>{class e{constructor(t){if(t={from:null,speed:null,startval:null,easing:"linear",scale:1,...t},this.scale=t.scale,null!==t.from)this.from=t.from;else if(t.prev)this.from=t.prev.to;else{if(null===t.startval)throw new Error("initial segment has no initial value");this.from=t.startval}this.to=t.to,this.delta=Math.abs(this.from-this.to),t.speed&&(t.time=this.delta/t.speed*1e3),this.time=t.time*this.scale,this.sense=this.from<this.to?1:-1,this.startTime=t.prev?t.prev.endTime:0,this.endTime=this.startTime+this.time,this.easing=t.easing,this.timeShare=1,this.timeStop=1,this.prev=t.prev||null,this.next=null}get lastStop(){return this.prev?this.prev.timeStop:0}localTime(t){return 1!=t||this.next?(t-this.lastStop)/this.timeShare:t}}t.exports={Path:class{constructor(t,i,...s){let n,o;this.startval=t,this.scale=i,this.segments=[];for(let t=0;t<s.length;t+=1)n=this.segments[t-1],o=new e({...s[t],prev:n,startval:this.startval,scale:this.scale}),n&&(n.next=o),this.segments[t]=o;this.totalTime=this.segments[this.segments.length-1].endTime;for(let t=0;t<this.segments.length;t+=1)this.segments[t].timeShare=this.segments[t].time/this.totalTime,this.segments[t].timeStop=this.segments[t].endTime/this.totalTime;this.lastIndex=0,this.currentIndex=0,this.changedIndex=!1}getSegIndex(t){for(let e=0;e<this.segments.length;e+=1)if(t<=this.segments[e].timeStop)return e!=this.currentIndex?(this.lastIndex=this.currentIndex,this.currentIndex=e,this.changedIndex=!0):this.changedIndex&&(this.changedIndex=!1),e}getSegment(t){return this.segments[this.getSegIndex(t)]}getPosition(t){const e=this.getSegment(t);return e.from+e.sense*e.delta*e.localTime(t)}},Segment:e}},934:t=>{const e=t=>{let i,s=[];for(let n=0;n<t.length;n+=1)i=t[n],Array.isArray(i)?s=s.concat(e(i)):s.push(i);return s};t.exports={Resolver:class{constructor(t,...e){this.obj=t,this.prop=e,this.initial=this.val}resolve(){let t=this.obj;for(let e=0;e<this.prop.length;e++){if(!this.prop[e+1])return[t,this.prop[e]];t=t[this.prop[e]]}}get val(){const[t,e]=this.resolve();return t[e]}set val(t){const[e,i]=this.resolve();return e[i]=t}},flat:e}},515:t=>{const e="div h1 h2 h3 h4 h5 h6 span\na article aside br details header hgroup hr footer nav p section summary\nbutton datalist fieldset form input keygen label legend meter optgroup option\nselect textarea abbr accronym address b bdi bdo big blockquote cite code del\ndfn em i ins kbd mark output pre progress q rp rt ruby s samp small strike\nstrong sub sup tt u var wbr dd dir dl dt li ol menu ul caption col colgroup\ntable tbody td tfoot thead th tr noscript script area audio canvas embed\nfigcaption figure frame frameset iframe img image map noframes object param source\ntime video",i="svg g line";function s(t,e,i,s){let n;if(n=Array.isArray(t)?document.createElementNS(t[0],t[1]):document.createElement(t),"function"==typeof e)s=e,e=null;else if("string"==typeof e){e=e?e.split(/\s+/):[];const i=[],s=[],o=[],r=[];if(e.forEach((t=>{"#"==t[0]?i.push(t.slice(1)):"$"==t[0]?s.push(t.slice(1)):"@"==t[0]?o.push(t.slice(1)):r.push(t)})),i.length>1)throw"Error: multiple IDs specified";if(s.length>1)throw"Error: multiple anchor IDs specified";if(o.length>1)throw"Error: multiple anchors specified";if(o.length&&s.length)throw"Error: multiple anchors specified";if(i.length&&s.length)throw"Error: multiple IDs specified";let a=s[0]||i[0],l=!!r.length&&r;s[0]&&(s[0]=s[0].replace(/-([a-z])/g,(t=>t[1].toUpperCase())));let h=s[0]||o[0];a&&(n.id=a),l&&n.classList.add(...l),h&&n.setAttribute("anchor",h),"input"==t&&a&&n.setAttribute("name",a)}else if("object"==typeof e){const t=Object.keys(e);let i;for(let s=0;s<t.length;s++)i=t[s],n.setAttribute(i,e[i])}if("function"==typeof i)s=i,i=null;else if("object"==typeof i){const t=Object.keys(i);let e;for(let s=0;s<t.length;s++)e=t[s],n.setAttribute(e,i[e])}const o=r();return s&&s.call(o,o),o.els.forEach((t=>n.append(t))),n}function n(t,e,...i){const s=t(...i);return e.push(s),s}const o={text:function(...t){return function(t){return document.createTextNode(t)}(...t)}};function r(){const t={els:[],mkel:function(...e){return n(s,t.els,...e)}};return Object.keys(o).forEach((e=>{t[e]=function(...i){return n(o[e],t.els,...i)}})),t}e.split(/\s+/).forEach((t=>{o[t]=function(e,i,n){return s(t,e,i,n)}})),i.split(/\s+/).forEach((t=>{o[t]=function(e,i,n){return s(["http://www.w3.org/2000/svg",t],e,i,n)}}));const a={start:function(t,e){const i={};"function"==typeof t&&(e=t,t=document.body);const s=r();return e&&e.call(s,s),s.els.forEach((e=>{e.hasAttribute("anchor")&&(i[e.getAttribute("anchor")]=e),e.querySelectorAll("[anchor]").forEach((t=>{i[t.getAttribute("anchor")]=t})),t.append(e)})),i},mkel:s};e.split(/\s+/).forEach((t=>a[t]=o[t])),i.split(/\s+/).forEach((t=>a[t]=o[t])),t.exports=a},668:(t,e,i)=>{i.d(e,{Z:()=>a});var s=i(537),n=i.n(s),o=i(645),r=i.n(o)()(n());r.push([t.id,'body{margin:0}#example-main{display:flex;flex-direction:column;width:100%;height:100vh;font-family:"Segoe UI",Candara,"DejaVu Sans","Bitstream Vera Sans","Trebuchet MS",Verdana,"Verdana Ref",sans-serif}#viewer{width:100%;flex:1 1 auto;background-color:#fff}#viewer.smooth{background-color:#505050}.squares{width:100%;height:100%;position:relative}.squares>.square{box-sizing:border-box;padding:1px;position:absolute;background-color:#505050}.squares>.square:nth-child(1){padding-right:0;padding-top:0;padding-left:0}.squares>.square:nth-child(2){padding-top:0;padding-right:0}.squares>.square:nth-child(3){padding-right:0;padding-top:0;padding-left:0;padding-bottom:0}.squares>.square:nth-child(4){padding-top:0;padding-right:0;padding-bottom:0}.squares>.square .core{width:100%;height:100%;font-size:2em;font-weight:bold;text-align:center;box-sizing:border-box;display:flex;flex-direction:column;align-items:center;justify-content:center}.squares>.square .core .dot{width:50%;height:50%}.squares>.square.red{top:0;left:0;height:25%;width:25%}.squares>.square.red>.leaf.core{background-color:#de2657}.squares>.square.red>.leaf.core>.dot{background-color:#912542}.squares>.square.blue{top:0;right:0;height:25%;width:75%}.squares>.square.blue>.leaf.core{background-color:#dead25}.squares>.square.blue>.leaf.core>.dot{background-color:#907425}.squares>.square.green{bottom:0;left:0;height:75%;width:75%}.squares>.square.green>.leaf.core{background-color:#99d299}.squares>.square.green>.leaf.core>.dot{background-color:#58a658}.squares>.square.yellow{bottom:0;right:0;height:75%;width:25%}.squares>.square.yellow>.leaf.core{background-color:#6e7fd2}.squares>.square.yellow>.leaf.core>.dot{background-color:#474f79}.bar{display:flex;gap:5px;padding:5px;background-color:#6e7fd2;color:#474f79;align-items:center;height:2rem;border-bottom:3px solid #505050}.bar #title{height:2rem;line-height:2rem;font-size:1.4rem;margin:0;margin-right:.5rem;margin-left:.5rem;color:#c1c6df}.bar .spacer{flex:1 1 auto;height:100%;display:flex;flex-direction:column;justify-content:center;position:relative;gap:3px}.bar .spacer .locbar{position:absolute;top:0;left:0;width:100%;height:calc(8px + 1rem)}.bar .spacer .slot{width:100%;background-color:#474f79}.bar .spacer .progress{height:calc((6px + 1rem)/2 - 1.5px);background-color:#aeb6de;box-sizing:border-box}.bar .spacer #loopbar{height:5px;display:flex;gap:3px}.bar .spacer #loopbar .loopmark{height:100%;min-width:1px;max-width:10px;flex:1 1 auto;background-color:#474f79}.bar .spacer #loopbar .loopmark.forward{max-width:100%}.bar .spacer #loopbar .loopmark.active{background-color:#aeb6de}.bar .button{text-decoration:none;color:#6e7fd2;background-color:#474f79;padding:3px 6px 3px 6px;font-weight:bold;font-size:.9rem;line-height:.9rem;height:1rem;margin-bottom:8px;user-select:none;cursor:default}.bar .button.active{background-color:#aeb6de;color:#474f79}.bar .button.toggle{cursor:pointer}.bar .button.lock.active{cursor:pointer}.bar .button.toggle:hover{filter:brightness(1.1)}.bar .button.lock.active:hover{filter:brightness(1.1)}',"",{version:3,sources:["webpack://./example/example.scss"],names:[],mappings:"AA2BA,KACE,QAAA,CAGF,cACE,YAAA,CACA,qBAAA,CACA,UAAA,CACA,YAAA,CACA,kHAAA,CAGF,QACE,UAAA,CACA,aAAA,CACA,qBAvBM,CAwBN,eACE,wBA3BI,CA+BR,SACE,UAAA,CACA,WAAA,CACA,iBAAA,CAGF,iBACE,qBAAA,CACA,WA/BW,CAgCX,iBAAA,CACA,wBAzCM,CA0CN,8BACE,eAAA,CACA,aAAA,CACE,cAAA,CAEJ,8BACE,aAAA,CACA,eAAA,CAEF,8BACE,eAAA,CACA,aAAA,CACA,cAAA,CACA,gBAAA,CAEF,8BACE,aAAA,CACA,eAAA,CACA,gBAAA,CAEF,uBACE,UAAA,CACA,WAAA,CACA,aAAA,CACA,gBAAA,CACA,iBAAA,CACA,qBAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,4BACE,SAAA,CACA,UAAA,CAGJ,qBACE,KAAA,CACA,MAAA,CACA,UA3EG,CA4EH,SA5EG,CA6EH,gCACE,wBAxFA,CAyFA,qCACE,wBAzFG,CA6FT,sBACE,KAAA,CACA,OAAA,CACA,UAvFG,CAwFH,SAzFG,CA0FH,iCACE,wBAjHC,CAkHD,sCACE,wBAlHI,CAsHV,uBACE,QAAA,CACA,MAAA,CACA,UApGG,CAqGH,SArGG,CAsGH,kCACE,wBAzHE,CA0HF,uCACE,wBA1HK,CA+HX,wBACE,QAAA,CACA,OAAA,CACA,UAjHG,CAkHH,SAjHG,CAkHH,mCACE,wBAlIG,CAmIH,wCACE,wBAnIM,CAyId,KACE,YAAA,CACA,OAAA,CACA,WAAA,CACA,wBA9IO,CA+IP,aA9IY,CA+IZ,kBAAA,CACA,WAAA,CACA,+BAAA,CACA,YACE,WAAA,CACA,gBAAA,CACA,gBAAA,CACA,QAAA,CACA,kBAAA,CACA,iBAAA,CACA,aAvJW,CAyJb,aACE,aAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,iBAAA,CACA,OAAA,CACA,qBACE,iBAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CACA,uBAAA,CAEF,mBACE,UAAA,CACA,wBA5KQ,CA8KV,uBACE,mCAAA,CACA,wBA/KQ,CAgLR,qBAAA,CAEF,sBACE,UAAA,CACA,YAAA,CACA,OAAA,CACA,gCACE,WAAA,CACA,aAAA,CACA,cAAA,CACA,aAAA,CACA,wBA5LM,CA6LN,wCACE,cAAA,CAEF,uCACE,wBAhMI,CAqMZ,aACE,oBAAA,CACA,aAzMK,CA0ML,wBAzMU,CA0MV,uBAAA,CACA,gBAAA,CACA,eAAA,CACA,iBAAA,CACA,WAAA,CACA,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,oBACE,wBAlNQ,CAmNR,aApNQ,CAsNV,oBACE,cAAA,CAEF,yBACE,cAAA,CAEF,0BACE,sBAAA,CAEF,+BACE,sBAAA",sourcesContent:['$blue: #dead25;\n$blue-dark: scale-color($blue, $lightness: -30%, $saturation: -20%);\n$blue-lite: scale-color($blue, $lightness: +20%, $saturation: -20%);\n\n$green: #99d299;\n$green-dark: scale-color($green, $lightness: -30%, $saturation: -20%);\n$green-lite: scale-color($green, $lightness: +20%, $saturation: -20%);\n\n$yellow: #6e7fd2;\n$yellow-dark: scale-color($yellow, $lightness: -40%, $saturation: -50%);\n$yellow-lite: scale-color($yellow, $lightness: +40%, $saturation: -20%);\n$yellow-white: scale-color($yellow, $lightness: +50%, $saturation: -40%);\n\n$red: #de2657;\n$red-dark: scale-color($red, $lightness: -30%, $saturation: -20%);\n$red-lite: scale-color($red, $lightness: +20%, $saturation: -20%);\n\n$black: #505050;\n$gray: #cdcdcd;\n$white: #ffffff;\n\n$coreborder: 0px;\n$wide: 75%;\n$thin: 25%;\n\n$tileborder: 1px;\n\nbody {\n  margin: 0;\n}\n\n#example-main {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100vh;\n  font-family: "Segoe UI", Candara, "DejaVu Sans", "Bitstream Vera Sans", "Trebuchet MS", Verdana, "Verdana Ref", sans-serif;\n}\n\n#viewer {\n  width: 100%;\n  flex: 1 1 auto;\n  background-color: $white;\n  &.smooth {\n    background-color: $black;\n  }\n}\n\n.squares {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n.squares > .square {\n  box-sizing: border-box;\n  padding: $tileborder;\n  position: absolute;\n  background-color: $black;\n  &:nth-child(1) {\n    padding-right: 0;\n    padding-top: 0;\n      padding-left: 0;\n  }\n  &:nth-child(2) {\n    padding-top: 0;\n    padding-right: 0;\n  }\n  &:nth-child(3) {\n    padding-right: 0;\n    padding-top: 0;\n    padding-left: 0;\n    padding-bottom: 0;\n  }\n  &:nth-child(4) {\n    padding-top: 0;\n    padding-right: 0;\n    padding-bottom: 0;\n  }\n  .core {\n    width: 100%;\n    height: 100%;\n    font-size: 2em;\n    font-weight: bold;\n    text-align: center;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    .dot {\n      width: 50%;\n      height: 50%;\n    }\n  }\n  &.red {\n    top: 0;\n    left: 0;\n    height: $thin;\n    width: $thin;\n    > .leaf.core {\n      background-color: $red;\n      > .dot {\n        background-color: $red-dark;\n      }\n    }\n  }\n  &.blue {\n    top: 0;\n    right: 0;\n    height: $thin;\n    width: $wide;\n    > .leaf.core {\n      background-color: $blue;\n      > .dot {\n        background-color: $blue-dark;\n      }\n    }\n  }\n  &.green {\n    bottom: 0;\n    left: 0;\n    height: $wide;\n    width: $wide;\n    > .leaf.core {\n      background-color: $green;\n      > .dot {\n        background-color: $green-dark;\n      }\n    }\n  }\n\n  &.yellow {\n    bottom: 0;\n    right: 0;\n    height: $wide;\n    width: $thin;\n    > .leaf.core {\n      background-color: $yellow;\n      > .dot {\n        background-color: $yellow-dark;\n      }\n    }\n  }\n}\n\n.bar {\n  display: flex;\n  gap: 5px;\n  padding: 5px;\n  background-color: $yellow;\n  color: $yellow-dark;\n  align-items: center;\n  height: 2rem;\n  border-bottom: 3px solid $black;\n  #title {\n    height: 2rem;\n    line-height: 2rem;\n    font-size: 1.4rem;\n    margin: 0;\n    margin-right: 0.5rem;\n    margin-left: 0.5rem;\n    color: $yellow-white;\n  }\n  .spacer {\n    flex: 1 1 auto;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    position: relative;\n    gap: 3px;\n    .locbar {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: calc(8px + 1rem);\n    }\n    .slot {\n      width: 100%;\n      background-color: $yellow-dark;\n    }\n    .progress {\n      height: calc(((6px + 1rem) / 2) - 1.5px);\n      background-color: $yellow-lite;\n      box-sizing: border-box;\n    }\n    #loopbar {\n      height: 5px;\n      display: flex;\n      gap: 3px;\n      .loopmark {\n        height: 100%;\n        min-width: 1px;\n        max-width: 10px;\n        flex: 1 1 auto;\n        background-color: $yellow-dark;\n        &.forward {\n          max-width: 100%;\n        }\n        &.active {\n          background-color: $yellow-lite;\n        }\n      }\n    }\n  }\n  .button {\n    text-decoration: none;\n    color: $yellow;\n    background-color: $yellow-dark;\n    padding: 3px 6px 3px 6px;\n    font-weight: bold;\n    font-size: 0.9rem;\n    line-height: 0.9rem;\n    height: 1rem;\n    margin-bottom: 8px;\n    user-select: none;\n    cursor: default;\n    &.active {\n      background-color: $yellow-lite;\n      color: $yellow-dark;\n    }\n    &.toggle {\n      cursor: pointer;\n    }\n    &.lock.active {\n      cursor: pointer;\n    }\n    &.toggle:hover {\n      filter: brightness(1.1);\n    }\n    &.lock.active:hover {\n      filter: brightness(1.1);\n    }\n  }\n}\n'],sourceRoot:""}]);const a=r},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",s=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),s&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),s&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,s,n,o){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(s)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(r[l]=!0)}for(var h=0;h<t.length;h++){var c=[].concat(t[h]);s&&r[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),n&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=n):c[4]="".concat(n)),e.push(c))}},e}},537:t=>{t.exports=function(t){var e=t[1],i=t[3];if(!i)return e;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),o="/*# ".concat(n," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},929:(t,e,i)=>{i.r(e),i.d(e,{default:()=>f});var s=i(379),n=i.n(s),o=i(795),r=i.n(o),a=i(569),l=i.n(a),h=i(565),c=i.n(h),A=i(216),p=i.n(A),d=i(589),u=i.n(d),m=i(668),g={};g.styleTagTransform=u(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=p(),n()(m.Z,g);const f=m.Z&&m.Z.locals?m.Z.locals:void 0},379:t=>{var e=[];function i(t){for(var i=-1,s=0;s<e.length;s++)if(e[s].identifier===t){i=s;break}return i}function s(t,s){for(var o={},r=[],a=0;a<t.length;a++){var l=t[a],h=s.base?l[0]+s.base:l[0],c=o[h]||0,A="".concat(h," ").concat(c);o[h]=c+1;var p=i(A),d={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(d);else{var u=n(d,s);s.byIndex=a,e.splice(a,0,{identifier:A,updater:u,references:1})}r.push(A)}return r}function n(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,n){var o=s(t=t||[],n=n||{});return function(t){t=t||[];for(var r=0;r<o.length;r++){var a=i(o[r]);e[a].references--}for(var l=s(t,n),h=0;h<o.length;h++){var c=i(o[h]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=l}}},569:t=>{var e={};t.exports=function(t,i){var s=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var s="";i.supports&&(s+="@supports (".concat(i.supports,") {")),i.media&&(s+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(s+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),s+=i.css,n&&(s+="}"),i.media&&(s+="}"),i.supports&&(s+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={id:s,exports:{}};return t[s](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nc=void 0,(()=>{i(929);const t=i(515),{Animation:e}=i(160);class s{constructor(e,i,s,n=0,o={}){this.parent=e,this.anchor=i,this.depth=n,this.leaf=0==this.depth,this.children=[],this.animation=s,this.els=t.start(this.anchor,(t=>{t.div("@bg squares",(t=>{t.div("@rs red square",(t=>this.mkcore(t,"rc"))),t.div("@bs blue square",(t=>this.mkcore(t,"bc"))),t.div("@gs green square",(t=>this.mkcore(t,"gc"))),t.div("@ys yellow square",(t=>this.mkcore(t,"yc")))}))})),this.parent?this.player=this.parent.player.sub({els:this.els}):this.player=this.animation.player({els:this.els,...o}),this.populate()}addchild(t){this.children.push(new s(this,this.els[t],this.animation,this.depth-1))}populate(){this.depth>0&&(this.addchild("rc"),this.addchild("yc"),this.addchild("gc"),this.addchild("bc"))}mkcore(t,e){t.div(`@${e} ${this.leaf?"leaf":""} core`,(t=>{}))}play(){this.player.play()}pause(){this.player.pause()}skip(t){this.player.skip(t)}}const n=t.start((t=>{t.div("#example-main",(t=>{t.div("$controls bar",(t=>{t.h1("$title",(t=>t.text("fantasma.js Example"))),t.div("@spacer spacer",(t=>{t.div("slot",(t=>t.div("@pr progress"))),t.div("slot",(t=>t.div("@pt progress"))),t.div("$loopbar"),t.div("$locbar locbar")})),t.div("@replay lock button",(t=>t.text("PLAY"))),t.div("@pause lock button",(t=>t.text("PAUSE"))),t.div("@smooth toggle button active",(t=>t.text("SMOOTH")))})),t.div("$viewer smooth")}))})),o=81,r=19,a=50,l=[{from:r,to:o,time:500},{to:o,time:500},{to:r,time:600},{to:r,time:400},{to:o,time:750},{to:r,time:850},{to:a,time:500}],h=[{from:o,to:r,time:500},{to:r,time:500},{to:o,time:600},{to:o,time:400},{to:r,time:750},{to:o,time:850},{to:a,time:500}],c=new e({easing:"easeOutQuad",scale:2,strips:[{obj:"rs",prop:["style","height"],unit:"%",easing:"easeInQuad",path:[...l,{to:o,time:500},{to:r,time:700},{to:r,time:700},{to:r,time:500},{to:o,time:500},{to:o,time:500},{to:r,time:500}]},{obj:"bs",prop:["style","height"],unit:"%",easing:"easeInQuad",path:[...l,{to:r,time:500},{to:o,time:700},{to:r,time:700},{to:r,time:500},{to:o,time:500},{to:o,time:500},{to:r,time:500}]},{obj:"gs",prop:["style","height"],unit:"%",easing:"easeInQuad",path:[...h,{to:r,time:500},{to:o,time:700},{to:o,time:700},{to:o,time:500},{to:r,time:500},{to:r,time:500},{to:o,time:500}]},{obj:"ys",prop:["style","height"],unit:"%",easing:"easeInQuad",path:[...h,{to:o,time:500},{to:r,time:700},{to:o,time:700},{to:o,time:500},{to:r,time:500},{to:r,time:500},{to:o,time:500}]},{obj:"rs",prop:["style","width"],unit:"%",easing:"easeInQuad",path:[{from:r,to:r,time:500},{to:o,time:500},{to:o,time:600},{to:r,time:400},{to:o,time:750},{to:r,time:850},{to:a,time:500},{to:o,time:500},{to:r,time:700},{to:r,time:700},{to:o,time:500},{to:o,time:500},{to:r,time:500},{to:r,time:500},{to:r,time:500}]},{obj:"bs",prop:["style","width"],unit:"%",easing:"easeInQuad",path:[{from:o,to:o,time:500},{to:r,time:500},{to:r,time:600},{to:o,time:400},{to:r,time:750},{to:o,time:850},{to:a,time:500},{to:r,time:500},{to:o,time:700},{to:o,time:700},{to:r,time:500},{to:r,time:500},{to:o,time:500},{to:o,time:500},{to:o,time:500}]},{obj:"gs",prop:["style","width"],unit:"%",easing:"easeInQuad",path:[{from:o,to:o,time:500},{to:o,time:500},{to:o,time:600},{to:r,time:400},{to:o,time:750},{to:o,time:850},{to:a,time:500},{to:o,time:500},{to:r,time:700},{to:r,time:700},{to:o,time:500},{to:o,time:500},{to:r,time:500},{to:r,time:500},{to:o,time:500}]},{obj:"ys",prop:["style","width"],unit:"%",easing:"easeInQuad",path:[{from:r,to:r,time:500},{to:r,time:500},{to:r,time:600},{to:o,time:400},{to:r,time:750},{to:r,time:850},{to:a,time:500},{to:r,time:500},{to:o,time:700},{to:o,time:700},{to:r,time:500},{to:r,time:500},{to:o,time:500},{to:o,time:500},{to:r,time:500}]}]});let A={};const p=new s(null,n.viewer,c,3,{before:()=>{n.replay.classList.remove("active"),n.pause.classList.add("active"),n.loopbar.textContent="",A=t.start(n.loopbar,(t=>{for(let e=0;e<=3;e++)t.div(`$mark${e} loopmark`)}))},after:()=>{n.replay.classList.add("active"),n.pause.classList.remove("active")},beforePause:()=>{n.replay.classList.add("active"),n.pause.classList.remove("active")},afterPause:()=>{n.replay.classList.remove("active"),n.pause.classList.add("active")},afterSkip:t=>{n.pt.style.width=100*t.t+"%",n.pr.style.width=100*t.rt+"%"},afterLoop:t=>{for(let e=0;e<=t.loops;e++)A[`mark${e}`].classList.add("active")},eachFrame:t=>{n.pt.style.width=100*t.t+"%",n.pr.style.width=100*t.rt+"%"},loop:3,reverse:!1,bounce:!0});n.replay.addEventListener("click",(t=>{t.preventDefault(),t.target.classList.contains("active")&&p.play()})),n.pause.addEventListener("click",(t=>{t.preventDefault(),p.pause()})),n.locbar.addEventListener("click",(t=>{t.preventDefault();const e=t.offsetX,i=t.target.offsetWidth,s=Math.max(0,Math.min(1,e/i));console.log(e,i,s),p.skip(s)})),n.smooth.addEventListener("click",(t=>{t.preventDefault(),n.viewer.classList.toggle("smooth"),n.viewer.classList.contains("smooth")?n.smooth.classList.add("active"):n.smooth.classList.remove("active")})),p.play()})(),Fantasma={}})();
//# sourceMappingURL=fantasma.js.map